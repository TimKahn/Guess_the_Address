## Project Log

#### 6.3.2017 Saturday
* VRBO scrape strategy: moving the map (with dynamic search enabled) shows a URL in Network with a JSON response that specifies everything on the google map displayed on VRBO.  I systematically changed parameters in this URL string to get the desired JSONs.
* Final VRBO scrape was based on sorting properties by distance from downtown on VRBO, manually going through the results pages until results land outside of Denver (i.e. Thornton, Littleton), and then iterating through the same pages (just increment page number!) with the scraper.

#### 6.5.2017 Monday
* Opted to use googlemaps API for geocoding/reverse geocoding to ensure consistency.  Using Place ID for comparisons should work better than lat/lon.
* Noted duplicate googlemaps place IDs in the VRBO and Homeaway data.  This may require chronological data to resolve.  For now, I'm keeping the duplicates -- better chance of matching a description to AirBNB, and it's possible that different units in a condo would have the same gmaps ID.
* Dropped duplicate titles from VRBO/Homeaway data.
* Dropped duplicate titles from AirBNB data for use in text comparison.
* Note: I opted to drop titles instead of property IDs; perhaps it's possible to have multiple titles associated with a property?
* FuzzyWuzzy with simple word ratio to find and score best matches between titles on Homeaway/VRBO and AirBNB.

#### 6.6.2017 Tuesday
* Find distances between VRBO/Homeaway listings and their matched listings on AirBNB.
* Manually validate matched listings.
* Create a function that designates bounds on lat/lon for comparison to an AirBNB listing.
* Find a test zipcode.  Pull records from Attom.  Geocode via address to get gmaps lat/lon (but: how many records?).
* Pull Attom records within lat/lon bounds for a single property subject to distance being within 500m.
* Automate for all zipcodes in dataset.
* Should I only use 'entire home' listings?  For now, yes.
* Possibility that listing is not even within 500m circle!  Example: VRBO 4105204 / AirBNB 1005908.
* Consider using lat/lon differences instead of distance - might be a pattern there...
* Why are there duplicate AirBNB IDs generated by find_matches.py?

#### 6.7.2017 Wednesday
* 500m circle!  Plot displacement of positive class, show density as color gradient.
* Combine basic munging, matching in one script, maybe as a class?
* Create classes for bootstrapping, various models, etc.  Pickle models and keep log mapping filenames to parameters etc.

#### 6.9.2017 Friday
* Manhattan distance?!?!  Google Maps distance (i.e. traversing blocks)?
* Flowchart of data munge / bullet points in readme
* Don't forget calibration!

#### 6.11.2017 Sunday
* Initial pool of 185 match candidates, score >= 40, distance <= .51.
* 116 with one match, 52 unmatched, 17 'multi-matched' and need to be manually validated.
* Try without restriction on company flag...

#### 6.12.2017 Monday
* Average of 989(!) properties in each circle.

#### 6.13.2017 - 6.15.2017
* Blagging and isolation forest are promising, other classifiers less so.
* Make a profit curve script.
* Use gaussian mixture model to identify distance cutoff.  Store # of positive class discarded -- false positives.
* Calibrate.

#### 6.16.2017 Friday
* Create curves class, run all models from same script (grid-search?)
* Use all data since I'm cross-validating.
* AdaBoostClassifier is decent.  Baseline?  Show SVC/SVM?

#### 6.17.2017 Saturday goals
* Use EM on distance, manually validate, add in 'accommodates' data.
* Resume, LinkedIn, presentation skeleton
* Profit curve, distribution of houses (rough)

#### 6.18.2017 Sunday goals
* Mechanical Turk research.
* Undersampling, SMOTE.
* Feature importance / overfitting concerns.
* Refine visuals, try calibration, update readme.
* Questions for Scott & Dan.

#### Visuals
* Scatter plot - indoor fireplace
* Plot bedrooms vs. bed difference, bathrooms vs. bath difference -- with regression lines?
* k-fold cross-validation

#### Questions for Dan
* Any ideas for properties not in attom database?
* Any way to bring the boundary into the AirBNB data?

#### Areas to improve
* Model is reliant on finding cross-listed properties, which could be too few to train a model (esp. outside major cities).  I have code to find the most likely cross-listings, and it does fairly well, but they must be manually validated.  I do not want this data to be a prediction, as it would put incorrect matches in my tiny positive class.
* Current MVP trusts the lat, lon in the attom data.
* I exclude private room listings from this model.
* Company flag or not?  Make this a predictor if included?
* Some properties are seemingly not in the tax assessor database.  What proportion?  Is there any remedy?
* Some listings have inaccurate addresses.
* Should probably use Google Maps API to geocode all of attom data.  Maybe just missing lat/lon or zipcode records...
 * Also check out GeoQuality from ATTOM.
* Would it be reasonable to check host 'first names' for company names?

#### Readme add-ons
* Research fuzzy finders, whoswho
* Describe what VRBO and ATTOM are.
* Learn more about tax assessor data, licensing, and privacy issues.
